# LPIC課題演習 システムクロックとNTP（CentOS/Debian）
## 演習概要
* 演習テーマ：システムクロックとNTP
* 対応ページ：『Linux教科書LPICレベル1 Version4.0対応』

## 演習課題
1. システムクロックを表示します。
2. もしシステムクロックが大きくずれていたら、管理者権限でdateコマンドを使って適切な日時に修正します。
3. システムクロックを「年/月/日-時:分」というフォーマットで表示します。
4. CentOSでは「ntp」パッケージを、Debianでは「ntpdate」パッケージをインストールします。
5. NTPサーバ「0.asia.pool.ntp.org」を使ってシステムクロックを合わせます。
6. ハードウェアクロックを表示します。
7. ハードウェアクロックが大きくずれていたら、システムクロックに合わせます。その後、再度ハードウェアクロックを表示します。

## ワンポイント
dateコマンド、hwclockコマンド、ntpdateコマンドの使い方をしっかり覚えておきましょう。NTPについては、テキストの説明をよく読んでおいてください。hwclockコマンドのオプション--systohcは「SYStem clock TO Hardware Clock」と覚えましょう。なお、systemd搭載ディストリビューション、chrony採用ディストリビューションでは、手順が異なる場合があります。

## 演習の解答例
1. システムクロックを表示します。
```
$ date
```
2. もしシステムクロックが大きくずれていたら、管理者権限でdateコマンドを使って適切な日時に修正します。
```
# date 11301430
```
3. システムクロックを「年/月/日-時:分」というフォーマットで表示します。
```
$ date "+%Y/%m/%d-%H:%M"
```
4. CentOSでは「ntp」パッケージを、Debianでは「ntpdate」パッケージをインストールします。
```
# yum -y install ntp
```
```
# apt-get install ntpdate
```
5. NTPサーバ「0.asia.pool.ntp.org」を使ってシステムクロックを合わせます。
```
# ntpdate 0.asia.pool.ntp.org
```
6. ハードウェアクロックを表示します。
```
# hwclock
```
7. ハードウェアクロックが大きくずれていたら、システムクロックに合わせます。その後、再度ハードウェアクロックを表示します。
```
# hwclock --systohc
```

