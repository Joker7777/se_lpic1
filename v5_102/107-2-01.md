# LPIC課題演習 ジョブスケジューリング(1)
## 演習概要
* 演習テーマ：ジョブスケジューリング(1)
* 対応ページ：『Linux教科書LPICレベル1 Version5.0対応』P.365～373

## 演習課題
1. この演習は一般ユーザーで実施します。毎時ちょうどにuptimeコマンドを実行し、その実行結果を「$HOME/uptime.log」に記録するようcronを設定します。
2. 正しく登録されているか、登録中のcronジョブを表示します。
3. 今から3分後にdfコマンドとdateコマンドを実行し、その結果を「df.log」ファイルに出力するよう、atコマンドでスケジューリングします。dateコマンドで時刻を調べ、3分後の時刻を設定してください。
4. 登録中のatジョブを表示します。
5. uptime.logファイルやdf.logファイルが作成されたかどうか、ファイル内はどうなっているかを確認します。
6. 登録済みのcronジョブを削除します。

## ワンポイント
crontabコマンドの使い方、atコマンドの使い方をしっかりおさえてください。crontab -rを実行すると、ユーザーのすべてのcronジョブが削除されます。複数のcronジョブを登録していて1つだけを削除したい場合は、crontab -eで該当行を削除してください。なお、3分後にatコマンドで予約する場合は「at now +3 minutes」という書式も利用できます。

## 演習の解答例
1. 毎時ちょうどにuptimeコマンドを実行し、その実行結果を「$HOME/uptime.log」に記録するようcronを設定します。
```
$ crontab -e
0 * * * * uptime >> $HOME/uptime.log
```
正しく登録されているか、登録中のcronジョブを表示します。
```
$ crontab -l
```
今から3分後にdfコマンドとdateコマンドを実行し、その結果を「df.log」ファイルに出力するよう、atコマンドでスケジューリングします。dateコマンドで時刻を調べ、3分後の時刻を設定してください。
```
$ date
$ at 14:33
at> df > df.log
at> date >> df.log
at> （←Ctrl+D）
```
登録中のatジョブを表示します。
```
$ at -l
$ atq
```
uptime.logファイルやdf.logファイルが作成されたかどうか、ファイル内はどうなっているかを確認します。
```
$ ls
$ cat uptime.log
$ cat df.log
```
登録済みのcronジョブを削除します。
```
$ crontab -r
```

